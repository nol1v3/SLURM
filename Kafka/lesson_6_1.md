# Когда нужны несколько Дата-центров:

- В случае, если необходимо иметь информацию наиболее географически близко к пользователю (так как расстояние может накладывать дополнительную сетевую задержку);
- Различные политические и юридические аспекты, которые могут  накладывать ограничения на вашу систему;
- Защита от различных аварий и катаклизмов в одной географической зоне;
- Расширения проекта и рост количества необходимых серверных стоек.
 

## Плюсы нескольких Дата-центров:

- Увеличение отказоустойчивости сервисов;
- Увеличение производительности сервисов;
- Возможность дальнейшего масштабирования;
- Выполнение юридических требований.
 

## Минусы нескольких Дата-центров:

- Увеличение стоимости инфраструктуры;
- Увеличение сложности инфраструктуры;
- Доработка существующего решения.
 

## Вопросы, которые нужно задать себе при выборе нескольких Дата-центров:

- Сколько дата-центров?
- Как близко территориально?
- Сколько нужно ресурсов? (https://eventsizer.io/)
- Какой будет сетевой трафик?
- Какой план миграции?
- Готов ли план на случай failover?
 

## Преимущества Stretched кластера:

- Синхронная репликация;
- Концептуально простой;
- Нет проблем с failover;
- Есть поддержка локального чтения.
 

## Минусы, при использовании Stretched кластера:

- Работает только при низком latency (<=30ms);
- Нет поддержки локальной записи;
- Полный отказ кластера = даунтайм.
 

## Особенности асинхронного кластера:

- Является логическим объединением нескольких физических кластеров, синхронизируемых между собой отдельной технологией, которая называется репликатор;
- Существует риск потери части данных, но работает даже при больших задержках
- Невозможно совершить failover на другой кластер, если наш основной кластер упал;
- Имеет достаточно сложную архитектуру.
 

## Существующие основные репликаторы:

- MirrorMaker
- MirrorMaker 2.0
- Uber Replicator
- Confluent Replicator
